<!DOCTYPE html>
<!-- saved from url=(0059)https://benfrain.com/playground/video-stop-start/index.html -->
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>
            Demonstrating the use of Intersection Observers to stop/start videos
            on scroll
        </title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
            html,
            body {
                margin: 0;
                padding: 2rem;
                background-color: #222;
                font-family: sans-serif;
                color: #eee;
            }
            a {
                color: #ffdf1b;
            }
            p {
                font-size: 1.3rem;
                line-height: 1.3;
            }
            video {
                display: block;
                max-width: 100%;
            }
        </style>
</head>
<body>
<small>
Videos from
<a href="https://images.nasa.gov/details-Earth%20Views">
https://images.nasa.gov/details-Earth%20Views
</a>
</small>
<h1>Video 1</h1>
<p>
Lorem ipsum dolor sit amet, officia excepteur ex fugiat
reprehenderit enim labore culpa sint ad nisi Lorem pariatur mollit
ex esse exercitation amet. Nisi anim cupidatat excepteur officia.
Reprehenderit nostrud nostrud ipsum Lorem est aliquip amet voluptate
voluptate dolor minim nulla est proident. Nostrud officia pariatur
ut officia. Sit irure elit esse ea nulla sunt ex occaecat
reprehenderit commodo officia dolor Lorem duis laboris cupidatat
officia voluptate. Culpa proident adipisicing id nulla nisi laboris
ex in Lorem sunt duis officia eiusmod. Aliqua reprehenderit commodo
ex non excepteur duis sunt velit enim. Voluptate laboris sint
cupidatat ullamco ut ea consectetur et est culpa et culpa duis.
</p>
<video playsinline="" autoplay="" muted="" loop="" src="img/nik1.mp4"></video>
<h1>Video 2</h1>
<p>
Lorem ipsum dolor sit amet, officia excepteur ex fugiat
reprehenderit enim labore culpa sint ad nisi Lorem pariatur mollit
ex esse exercitation amet. Nisi anim cupidatat excepteur officia.
Reprehenderit nostrud nostrud ipsum Lorem est aliquip amet voluptate
voluptate dolor minim nulla est proident. Nostrud officia pariatur
ut officia. Sit irure elit esse ea nulla sunt ex occaecat
reprehenderit commodo officia dolor Lorem duis laboris cupidatat
officia voluptate. Culpa proident adipisicing id nulla nisi laboris
ex in Lorem sunt duis officia eiusmod. Aliqua reprehenderit commodo
ex non excepteur duis sunt velit enim. Voluptate laboris sint
cupidatat ullamco ut ea consectetur et est culpa et culpa duis.
</p>
<video playsinline="" autoplay="" muted="" loop="" src="img/nik2.mp4"></video>
<h1>Video 3</h1>
<p>
Lorem ipsum dolor sit amet, officia excepteur ex fugiat
reprehenderit enim labore culpa sint ad nisi Lorem pariatur mollit
ex esse exercitation amet. Nisi anim cupidatat excepteur officia.
Reprehenderit nostrud nostrud ipsum Lorem est aliquip amet voluptate
voluptate dolor minim nulla est proident. Nostrud officia pariatur
ut officia. Sit irure elit esse ea nulla sunt ex occaecat
reprehenderit commodo officia dolor Lorem duis laboris cupidatat
officia voluptate. Culpa proident adipisicing id nulla nisi laboris
ex in Lorem sunt duis officia eiusmod. Aliqua reprehenderit commodo
ex non excepteur duis sunt velit enim. Voluptate laboris sint
cupidatat ullamco ut ea consectetur et est culpa et culpa duis.
</p>
<video playsinline="" autoplay="" muted="" loop="" src="img/nik3.mp4"></video>
<h1>Video 4</h1>
<p>
Lorem ipsum dolor sit amet, officia excepteur ex fugiat
reprehenderit enim labore culpa sint ad nisi Lorem pariatur mollit
ex esse exercitation amet. Nisi anim cupidatat excepteur officia.
Reprehenderit nostrud nostrud ipsum Lorem est aliquip amet voluptate
voluptate dolor minim nulla est proident. Nostrud officia pariatur
ut officia. Sit irure elit esse ea nulla sunt ex occaecat
reprehenderit commodo officia dolor Lorem duis laboris cupidatat
officia voluptate. Culpa proident adipisicing id nulla nisi laboris
ex in Lorem sunt duis officia eiusmod. Aliqua reprehenderit commodo
ex non excepteur duis sunt velit enim. Voluptate laboris sint
cupidatat ullamco ut ea consectetur et est culpa et culpa duis.
</p>
<video playsinline="" autoplay="" muted="" loop="" src="img/nik4.mp4"></video>
<h1>Video 5</h1>
<p>
Lorem ipsum dolor sit amet, officia excepteur ex fugiat
reprehenderit enim labore culpa sint ad nisi Lorem pariatur mollit
ex esse exercitation amet. Nisi anim cupidatat excepteur officia.
Reprehenderit nostrud nostrud ipsum Lorem est aliquip amet voluptate
voluptate dolor minim nulla est proident. Nostrud officia pariatur
ut officia. Sit irure elit esse ea nulla sunt ex occaecat
reprehenderit commodo officia dolor Lorem duis laboris cupidatat
officia voluptate. Culpa proident adipisicing id nulla nisi laboris
ex in Lorem sunt duis officia eiusmod. Aliqua reprehenderit commodo
ex non excepteur duis sunt velit enim. Voluptate laboris sint
cupidatat ullamco ut ea consectetur et est culpa et culpa duis.
</p>
<video playsinline="" autoplay="" muted="" loop="" src="img/nik5.mp4"></video>
<script>
            function playPauseVideo() {
                let videos = document.querySelectorAll("video");
                videos.forEach((video) => {
                    // We can only control playback without insteraction if video is mute
                    video.muted = true;
                    // Play is a promise so we need to check we have it
                    let playPromise = video.play();
                    if (playPromise !== undefined) {
                        playPromise.then((_) => {
                            let observer = new IntersectionObserver(
                                (entries) => {
                                    entries.forEach((entry) => {
                                        if (
                                            entry.intersectionRatio !== 1 &&
                                            !video.paused
                                        ) {
                                            video.pause();
                                        } else if (video.paused) {
                                            video.play();
                                        }
                                    });
                                },
                                { threshold: 0.2 }
                            );
                            observer.observe(video);
                        });
                    }
                });
            }

            // And you would kick this off where appropriate with:
            playPauseVideo();
        </script>


</body></html>